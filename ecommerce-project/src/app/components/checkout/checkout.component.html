<div class="container mt-4">
  <div class="row">
    <!-- Cart Summary Section -->
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Order Summary</h4>
        </div>
        <div class="card-body">
          <div *ngFor="let item of cartItems" class="d-flex justify-content-between align-items-center mb-3">
            <div>
              <h6 class="mb-0">{{item.name}}</h6>
              <small class="text-muted">Price: ${{item.price}}</small>
            </div>
            <button class="btn btn-sm btn-danger" (click)="removeFromCart(item.id)">
              <i class="fas fa-trash"></i>
            </button>
          </div>
          <hr>
          <div class="d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Total</h5>
            <h5 class="mb-0">${{cartTotal}}</h5>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkout Form Section -->
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Shipping Information</h4>
        </div>
        <div class="card-body">
          <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="fullName" class="form-label">Full Name</label>
              <input 
                type="text" 
                class="form-control" 
                id="fullName" 
                formControlName="fullName"
                [class.is-invalid]="checkoutForm.get('fullName')?.invalid && checkoutForm.get('fullName')?.touched"
              >
              <div class="invalid-feedback">
                Full name is required
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input 
                type="email" 
                class="form-control" 
                id="email" 
                formControlName="email"
                [class.is-invalid]="checkoutForm.get('email')?.invalid && checkoutForm.get('email')?.touched"
              >
              <div class="invalid-feedback">
                Valid email is required
              </div>
            </div>

            <div class="mb-3">
              <label for="phone" class="form-label">Phone Number</label>
              <input 
                type="tel" 
                class="form-control" 
                id="phone" 
                formControlName="phone"
                [class.is-invalid]="checkoutForm.get('phone')?.invalid && checkoutForm.get('phone')?.touched"
              >
              <div class="invalid-feedback">
                Phone number is required
              </div>
            </div>

            <div class="mb-3">
              <label for="address" class="form-label">Shipping Address</label>
              <textarea 
                class="form-control" 
                id="address" 
                rows="3" 
                formControlName="address"
                [class.is-invalid]="checkoutForm.get('address')?.invalid && checkoutForm.get('address')?.touched"
              ></textarea>
              <div class="invalid-feedback">
                Address is required
              </div>
            </div>

            <div class="mb-3">
              <label for="city" class="form-label">City</label>
              <input 
                type="text" 
                class="form-control" 
                id="city" 
                formControlName="city"
                [class.is-invalid]="checkoutForm.get('city')?.invalid && checkoutForm.get('city')?.touched"
              >
              <div class="invalid-feedback">
                City is required
              </div>
            </div>

            <div class="mb-3">
              <label for="paymentMethod" class="form-label">Payment Method</label>
              <select 
                class="form-select" 
                id="paymentMethod" 
                formControlName="paymentMethod"
                [class.is-invalid]="checkoutForm.get('paymentMethod')?.invalid && checkoutForm.get('paymentMethod')?.touched"
              >
                <option value="">Select payment method</option>
                <option value="credit">Credit Card</option>
                <option value="debit">Debit Card</option>
                <option value="paypal">PayPal</option>
              </select>
              <div class="invalid-feedback">
                Please select a payment method
              </div>
            </div>

            <button 
              type="submit" 
              class="btn btn-primary w-100"
              [disabled]="checkoutForm.invalid || cartItems.length === 0"
            >
              Place Order
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>