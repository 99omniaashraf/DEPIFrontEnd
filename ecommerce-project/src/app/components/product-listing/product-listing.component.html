<section class="products-section py-4">
  <div class="container">
    <h1 class="text-center mb-5 fw-bold">Products</h1>

    <div class="row g-4 justify-content-center">
      <div class="col-12 col-md-6 col-lg-4" *ngFor="let product of products">
        <div class="product-card bg-white p-3 rounded">
          <!-- Product Image -->
          <div class="product-image text-center mb-3">
            <a [routerLink]="['/products', product.id]">
              <img
                [src]="product.imageUrl"
                [alt]="product.name"
                loading="lazy"
                class="img-fluid"
              />
            </a>
            <span
              *ngIf="!product.inStock"
              class="out-of-stock badge bg-danger position-absolute top-0 end-0 m-2"
            >
              Out of Stock
            </span>
          </div>

          <!-- Product Details -->
          <div class="product-info">
            <h3 class="product-title h5 mb-2">
              <a [routerLink]="['/products', product.id]">{{ product.name }}</a>
            </h3>
            <p class="product-description text-muted mb-3">
              {{ product.description }}
            </p>

            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="price text-primary fw-bold">
                SAR{{ product.price }}.00
              </div>
            </div>

            <!-- Add to Cart Button -->
            <button
              class="btn w-100"
              [ngClass]="{
                'btn-in-stock': product.inStock,
                'btn-out-of-stock': !product.inStock
              }"
              [disabled]="!product.inStock"
              (click)="addToCart(product)"
            >
              <i class="fas fa-shopping-cart me-2"></i>
              {{ product.inStock ? "Add to cart" : "Out of Stock" }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
